{{!-- TO CAPTURE USERINFO FROM AUTH0 USE: user.picture, user.nickname, user._json.email, user.id --}}

{{!-- WE CAN ALSO USE USERNAME FROM DATABASE INSTEAD OF USER NICKNAME FROM AUTH0 --}}
<nav class="light-blue lighten-1" role="navigation">
    <div class="nav-wrapper container"><a id="logo-container" href="/" class="brand-logo left" >SWAPS</a>
        <ul id="nav-mobile" class="right hide-on-med-and-down">
            <li><a href="/logout">Log out</a></li>
        </ul>
    </div>
</nav>

<div id="mainImage">
</div>

<nav class="orange" role="navigation">
        <ul id="nav-mobile" class="right hide-on-med-and-down">
            <li><a href="/posts"> Post an Item </a></li>
            <li><a href="/userPosts"> My Posts </a></li>
            <li><a href="/search"> Search Posts </a></li>
            <li><a href="/received"> Offers Received </a></li>
            <li><a href="/made"> Offers Made </a></li>
            <li><a href="/lending"> Items Lending </a></li>
            <li><a href="/borrowing"> Items Borrowing </a></li>
        </ul>
    </div>
</nav>


{{!-- <div id="userPhoto">{{user.picture}}</div><span id="welcome"> Welcome {{user.nickname}} ! </span>  --}}
<h3 id="welcome"> Welcome {{user.nickname}} ! </h3>
<br/>

<div class="container" id="postsDiv">
    <div class="section">
        <div class="row">
            {{#each posts}}
                <div class="col s12 m4" id="{{this.id}}" data="{{this.user_id}}">
                    <div class="card">
                        <div class="card-image">
                            <img id="image" src="{{this.img_location}}">
                        </div>
                        <div class="card-content">
                            <span id="description" class="card-title">{{this.description}}</span>
                            <p id="owner"> Owner: {{this.user_name}} </p>
                            <p id="condition"> Condition: {{this.prod_condition}} </p>
                            <p id="availability"> Availability: {{this.availability}} </p>
                            <p id="comments"> Comments: {{this.comments}} </p>
                        </div>
                        <div class="card-action">
                           {{!-- Contact Owner Modal Trigger; sends owner an email --}}
                            <a class="modal-trigger" data-target="contactOwner">Contact</a>
                            {{!-- Swap Modal Trigger; displays swap requested modal --}}
                                <input type="hidden" name="poster_id" value="{{this.user_id}}">
                                <input type="hidden" name="modal_desc" value="{{this.description}}">
                                <input type="hidden" name="product_id" value="{{this.id}}">
                            <a id="{{this.id}}" data="{{this.description}}" class="swapTrigger modal-trigger" data-target="swapRequest">SWAP!</a>
                            {{!-- Location Modal Trigger; pops up swap location on Google Maps --}}
                            <a href="#">Location</a>
                        </div>
                    </div>
                </div>
            {{/each}}
        </div>
    </div>
</div>
<div id="map"></div>

{{!-- <br><br>
<div class="row">
    <div class="col s12 offset-s2"> 
        <img id="userImage" src={{user.picture}} class="circle responsive-img"> 
    </div>
</div>
<div class="row">
    <div class="col s12 offset-s1"> 
        <h2> Welcome {{user.nickname}} ! </h2> 
    </div>
</div>

<br/> --}}

<footer class="page-footer orange z-depth-2">
    <div class="container">
        <div class="row">
            <a class="grey-text text-lighten-4"> &#169; 2017 The SWAPS Team</a>
        </div>
    </div>
</footer>

